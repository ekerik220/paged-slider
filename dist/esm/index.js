import*as e from"react";import t,{useRef as n,useState as r,useCallback as o,useEffect as i,useMemo as l,cloneElement as a,Children as c}from"react";var u=function(e){var t=r(0),n=t[0],o=t[1],l=r(0),a=l[0],c=l[1];return i((function(){var t=new ResizeObserver((function(e){o(e[0].contentRect.width),c(e[0].contentRect.height)}));return e.current&&t.observe(e.current),function(){return t.disconnect()}}),[e]),[n,a]},s=function(e,t,l){var a=n([]),c=n(!1),s=u(e)[0],d=u(t)[0],f=r(!0),v=f[0],m=f[1],p=r(!1),h=p[0],g=p[1],w=function(e,t){var l=n(!1),a=n(0),c=n(0),u=r(!1),s=u[0],d=u[1],f=o((function(t){var n=t.pageX;if(l.current){var r=n-a.current;Math.abs(r)>3&&d(!0);var o=n-c.current;c.current=n,e.current.scrollLeft-=o}}),[e]),v=o((function(e){var t=e.pageX;l.current=!0,a.current=t,c.current=t}),[]),m=o((function(){l.current=!1,d(!1)}),[]),p=o((function(){if("undefined"!=typeof window){var t=e.current;t&&(t.addEventListener("mousedown",v),window.addEventListener("mousemove",f),window.addEventListener("mouseup",m))}}),[e,v,f,m]),h=o((function(){if("undefined"!=typeof window){var t=e.current;t&&(t.removeEventListener("mousedown",v),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m))}}),[e,v,f,m]);return i((function(){return t?p():h(),function(){return h()}}),[t,p,h]),s}(e,l),_=o((function(){var t,n,r=null!==(n=null===(t=e.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==n?n:0;m(0===r),g(r>=d-s)}),[d,e,s]),b=function(t){var n;return null===(n=e.current)||void 0===n?void 0:n.scrollTo({left:t,behavior:"smooth"})};i((function(){var t=e.current;return null==t||t.addEventListener("scroll",_),function(){return null==t?void 0:t.removeEventListener("scroll",_)}}),[_,e]);return{itemsContainerRef:t,itemsContainerWidth:d,visibleContainerRef:e,visibleContainerWidth:s,atStart:v,atEnd:h,dragging:w,updatePositionList:function(e,t,n,r,o){a.current[e]={width:t,height:n,x:r,y:o}},onLeftButtonClick:function(){if(e.current){var t=e.current.scrollLeft,n=a.current.findIndex((function(e){return t>e.x&&t<e.x+e.width})),r=n;if(-1===n){var o=a.current.findIndex((function(e){return e.x>=t}));r=Math.max(0,o-1)}for(var i=r,l=a.current[r],c=r;c>=0;c--){if(!(Math.abs(l.x+l.width-a.current[c].x)<=s))break;i=c,0===c&&(i=0)}b(a.current[i].x)}},onRightButtonClick:function(){if(e.current){var t=e.current.scrollLeft,n=t+s,r=a.current.findIndex((function(e){return n>=e.x&&n<e.x+e.width}));r>=0&&(n=a.current[r].x)===t&&(n=r+1<a.current.length?a.current[r+1].x:d-s),n=Math.min(d-s,n),b(n)}},onReturnToStartButtonClick:function(){c.current||b(0)}}};function d(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var f="cellWrapper-module_cellWrapper__fAA45";d(".cellWrapper-module_cellWrapper__fAA45 {\n  pointer-events: var(--pointerEvents);\n  user-select: none;\n}\n\n.cellWrapper-module_cellWrapper__fAA45 * {\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n  -ms-user-drag: none;\n}");var v,m=function(e){var r=e.preventTaps,o=e.updatePositionList,l=e.children,a=n(null),c=u(a),s=c[0],d=c[1];return i((function(){var e,t,n,r,i=null!==(t=null===(e=a.current)||void 0===e?void 0:e.offsetLeft)&&void 0!==t?t:0,l=null!==(r=null===(n=a.current)||void 0===n?void 0:n.offsetTop)&&void 0!==r?r:0;o(s,d,i,l)}),[o,s,d]),t.createElement("div",{ref:a,className:f,style:{"--pointerEvents":r?"none":void 0}},l)};function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}const h=t=>e.createElement("svg",p({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#fff",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff"}},t),v||(v=e.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 0 1 0 1.414L9.414 10l3.293 3.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0z",clipRule:"evenodd",stroke:"none"})));var g;function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}const _=t=>e.createElement("svg",w({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#fff",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff"}},t),g||(g=e.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0z",clipRule:"evenodd",stroke:"none"})));var b;function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}const y=t=>e.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#fff",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff"}},t),b||(b=e.createElement("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 0-1.414l5-5a1 1 0 1 1 1.414 1.414L11.414 10l4.293 4.293a1 1 0 0 1 0 1.414zm-6 0a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 0-1.414l5-5a1 1 0 0 1 1.414 1.414L5.414 10l4.293 4.293a1 1 0 0 1 0 1.414z",clipRule:"evenodd",stroke:"none"})));var C="button-module_rightPositioned__34i8V",E="button-module_leftPositioned__PxsTg",L="button-module_button__QVO9x";d('.button-module_rightPositioned__34i8V, .button-module_leftPositioned__PxsTg {\n  position: absolute;\n  top: 50%;\n  transform: translate(0, -50%);\n  z-index: 100;\n}\n\n.button-module_leftPositioned__PxsTg {\n  left: 10px;\n}\n\n.button-module_rightPositioned__34i8V {\n  right: 10px;\n}\n\n.button-module_button__QVO9x {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 100%;\n  border: 1px solid rgba(255, 255, 255, 0.7);\n  width: 40px;\n  height: 40px;\n  font-size: 30px;\n  background-color: rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: "opacity 0.2s";\n}\n\n.button-module_button__QVO9x:hover {\n  opacity: 0.6;\n}');var k=function(e){var n=e.type,r=e.override,o=e.onClick,i=l((function(){switch(n){case"left":return{style:"".concat(E," ").concat(L),overrideStyle:E,icon:t.createElement(h,null),ariaLabel:"scroll left"};case"right":return{style:"".concat(C," ").concat(L),overrideStyle:C,icon:t.createElement(_,null),ariaLabel:"scroll right"};case"returnToStart":return{style:"".concat(C," ").concat(L),overrideStyle:C,icon:t.createElement(y,null),ariaLabel:"scroll to start"}}}),[n]),c=i.style,u=i.overrideStyle,s=i.icon,d=i.ariaLabel;return r?t.cloneElement(r,{className:u,ariaLabel:d,onClick:o}):t.createElement("button",{className:c,"aria-label":d,onClick:o},a(s,{color:"white"}))},S=function(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},T="pagedScroller-module_wrapper__zoXwx",P="pagedScroller-module_visibleContainer__N4iDD",R="pagedScroller-module_itemsContainer__NT1kQ";d(".pagedScroller-module_wrapper__zoXwx {\n  position: relative;\n  width: var(--width);\n  max-width: var(--itemsContainerWidth);\n}\n\n.pagedScroller-module_visibleContainer__N4iDD {\n  overflow: var(--overflow);\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.pagedScroller-module_visibleContainer__N4iDD::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n}\n\n.pagedScroller-module_itemsContainer__NT1kQ {\n  display: inline-flex;\n  column-gap: var(--itemGap);\n}");var W=function(e){var r=e.className,o=e.width,i=void 0===o?"100%":o,l=e.itemGap,a=void 0===l?0:l,u=e.showArrows,d=void 0===u?!S():u,f=e.enableDrag,v=void 0===f?S():f,p=e.scrollLeftButton,h=e.scrollRightButton,g=e.returnToStartButton,w=e.scrollContainerRef,_=e.children,b=n(null),x=n(null),y=s(null!=w?w:b,x,v),C=y.visibleContainerWidth,E=y.itemsContainerWidth,L=y.atStart,W=y.atEnd,B=y.dragging,N=y.updatePositionList,O=y.onLeftButtonClick,z=y.onRightButtonClick,A=y.onReturnToStartButtonClick;return t.createElement("div",{className:"".concat(T," ").concat(r),style:{"--width":i,"--itemsContainerWidth":"".concat(E,"px"),"--itemGap":a,"--overflow":v?"auto":"hidden"}},t.createElement("div",{ref:null!=w?w:b,className:P},t.createElement("div",{ref:x,className:R},c.map(_,(function(e,n){return t.createElement(m,{preventTaps:B,updatePositionList:function(e,t,r,o){return N(n,e,t,r,o)}},e)})))),d&&C!==E&&t.createElement(t.Fragment,null,!L&&t.createElement(k,{type:"left",override:p,onClick:O}),W?t.createElement(k,{type:"returnToStart",override:g,onClick:A}):t.createElement(k,{type:"right",override:h,onClick:z})))};export{W as PagedScroller};
//# sourceMappingURL=index.js.map
